{"name":"RESTful API Specification","tagline":"","body":"## RESTful API Specification \r\n\r\n- [API HTTP methods](#api-http-methods)\r\n- [Data format](#data-format)\r\n - [Resource](#resource)\r\n - [Collection](#collection)\r\n - [Reference resource, collection](#reference-resource-collection)\r\n- [Methods](#methods)\r\n- [Expand reference resource, collection](#expand-reference-resource-collection)\r\n- [Collection Sort, Limit and Offset](#collection-sort-limit-and-offset)\r\n- [Restrict Fields](#restrict-fields)\r\n- [Errors](#errors)\r\n - [400 Bad request](#400-bad-request)\r\n - [401 Unauthorized](#401-unauthorized)\r\n - [403 Permission denied](#403-permission-denied)\r\n - [409 Conflict](#409-conflict)\r\n - [500 Internal error](#500-internal-error)\r\n\r\n## API HTTP methods\r\n\r\n| HTTP      | Method    |\r\n| :--       | :--       |\r\n| POST      | Create    |\r\n| GET       | Read      |\r\n| PUT       | Update    |\r\n| DELETE    | Delete    |\r\n\r\n| Resource | POST | GET | PUT | DELETE|\r\n| :--- | --- | --- | --- | --- |\r\n| `http://<domain>/<resources>`| create | read | update | delete |\r\n| `http://<domain>/<resources>/<resourceId>` | update | read | update | delete |\r\n\r\n## Data format\r\nJSON\r\n\r\n### Resource\r\n\r\nОбязательные параметры ресурса\r\n\r\n- **id** [`integer`|`string`] идентификатор ресурса\r\n- **href** `string` uri ресурса\r\n- **createdAt** [`integer`] дата создания ресурса timestamp\r\n\r\n`GET http://<domain>/tasks/1`\r\n\r\n```json\r\n{\r\n    \"id\": 1,\r\n    \"href\": \"http://<domain>/tasks/1\",\r\n    \"createdAt\": 571352400000,\r\n    \"name\": \"Task name\",\r\n    \"owner\": {\r\n        \"href\": \"http://<domain>/users/1\"\r\n    }\r\n}\r\n```\r\n\r\n#### Resources\r\n\r\n`GET http://<domain>/<resources>/<resourceId1, resourceId2, ...>`\r\n\r\nExample:\r\n\r\n`GET http://<domain>/tasks/1,2`\r\n\r\n```json\r\n{\r\n    \"rows\": [\r\n        {\r\n            \"id\": 1,\r\n            \"href\": \"http://<domain>/tasks/1\",\r\n            \"createdAt\": 571352400000,\r\n            \"name\": \"Task name1\",\r\n            \"owner\": {\r\n                \"href\": \"http://<domain>/users/2\"\r\n            }\r\n        },\r\n        {\r\n            \"id\": 2,\r\n            \"href\": \"http://<domain>/tasks/2\",\r\n            \"createdAt\": 571352400000,\r\n            \"name\": \"Task name2\",\r\n            \"owner\": {\r\n                \"href\": \"http://<domain>/users/1\"\r\n            }\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n### Reference resource, collection\r\n\r\n- **resourceName** `object` имя ресурса\r\n  - **resourceName.href** `string` uri ресурса\r\n\r\nРесурс может иметь ссылку на другой ресурс (пользователя, событие) или коллекцию (метки, связанные задачи, пользователи), в этом случае ресурс должен содержать имя и указатель на ресурс **owner.href**,  **labels.href**\r\n\r\n```json\r\n{\r\n    \"id\": 1,\r\n    \"href\": \"http://<domain>/tasks/1\",\r\n    \"createdAt\": 571352400000,\r\n    \"name\": \"Task name\",\r\n    \"owner\": {\r\n        \"href\": \"http://<domain>/users/1\"\r\n    },\r\n    \"labels\": {\r\n        \"href\": \"http://<domain>/tasks/1/labels\"\r\n    }\r\n}\r\n```\r\n\r\n### Collection\r\n\r\nОбязательные параметры в коллекции\r\n\r\n- **total** `integer` общее количество ресурсов в коллекции\r\n- **limit** `integer` лимит на размер возвращаемой коллекции (значение установленное по умолчанию или переденнное через query params)\r\n- **offset** `integer` смещение (значение установленное по умолчанию или переденнное через query params)\r\n- **rows** `array` массив ресурсов\r\n\r\n`GET http://<domain>/<resources>?limit=30`\r\n\r\n`GET http://<domain>/tasks?limit=30`\r\n\r\n```json\r\n{\r\n    \"total\": 3,\r\n    \"limit\": 30,\r\n    \"offset\": 0,\r\n    \"rows\": [\r\n        {\r\n            \"id\": 1,\r\n            \"href\": \"http://<domain>/tasks/1\",\r\n            \"createdAt\": 571352400000,\r\n            \"name\": \"Task name1\",\r\n            \"owner\": {\r\n                \"href\": \"http://<domain>/users/2\"\r\n            }\r\n        },\r\n        {\r\n            \"id\": 2,\r\n            \"href\": \"http://<domain>/tasks/2\",\r\n            \"createdAt\": 571352400000,\r\n            \"name\": \"Task name2\",\r\n            \"owner\": {\r\n                \"href\": \"http://<domain>/users/1\"\r\n            }\r\n        },\r\n        {\r\n            \"id\": 2,\r\n            \"href\": \"http://<domain>/tasks/3\",\r\n            \"createdAt\": 571352400000,\r\n            \"name\": \"Task name3\",\r\n            \"owner\": {\r\n                \"href\": \"http://<domain>/users/3\"\r\n            }\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nЕсли коллеция пустая:\r\n\r\n```json\r\n{\r\n    \"total\": 0,\r\n    \"limit\": 30,\r\n    \"offset\": 0,\r\n    \"rows\": []\r\n}\r\n```\r\n\r\n## Methods\r\n\r\n### Create resource:\r\n\r\n`POST http://<domain>/<resources>`\r\n\r\nExample:\r\n\r\n`POST http://<domain>/tasks`\r\n\r\n### Get resource or collection:\r\n\r\n`GET http://<domain>/<resources>`\r\n\r\n`GET http://<domain>/<resources>/<resourceId>`\r\n\r\nExample:\r\n\r\n`GET http://<domain>/tasks/1`\r\n\r\n`GET http://<domain>/tasks/1/labels`\r\n\r\n### Update resource, collection:\r\n\r\n`PUT http://<domain>/<resources>/<resourceId>`\r\n\r\n`PUT http://<domain>/<resources>/<resourceId>/<resources>`\r\n\r\nExample:\r\n\r\n`PUT http://<domain>/tasks/1`\r\n\r\n`PUT http://<domain>/tasks/1/labels`\r\n\r\n### Delete resource, collection:\r\n\r\n`DELETE http://<domain>/<resources>/<resourceId>`\r\n\r\n`DELETE http://<domain>/<resources>/<resourceId>/<resources>`\r\n\r\nExample:\r\n\r\n`DELETE http://<domain>/tasks/1`\r\n\r\n`DELETE http://<domain>/tasks/1/labels`\r\n\r\n### Collection filter resources\r\n\r\nФильтр коллекции по **owner.id** [12,13,14]\r\n\r\n`GET http://<domain>/<resources>?<field>=<value,...>`\r\n\r\nExample:\r\n\r\n`GET http://<domain>/tasks?owner=12,13,14`\r\n\r\n## Expand reference resource, collection \r\n\r\nРаскрытие **ссылки** на **ресурс** или **коллекцию**\r\n\r\n- **expand** [`string`[, ...]] имя ресурса или коллекции\r\n\r\n`GET http://<domain>/<resources>/<resourceId>?expand=<field1,...>`\r\n\r\nЧтобы получить полную информацию **owner** и **labels**, выполняем запрос с **expand**=owner,labels:\r\n\r\n`GET http://<domain>/tasks/1?expand=owner,labels`\r\n\r\n```json\r\n{\r\n    \"id\": 123,\r\n    \"href\": \"http://<domain>/tasks/1\",\r\n    \"createdAt\": 571352400000,\r\n    \"name\": \"Task name\",\r\n    \"owner\": {\r\n        \"id\": 1,\r\n        \"href\": \"http://<domain>/users/1\",\r\n        \"createdAt\": 571352400000,\r\n        \"fullName\": \"Jon Doe\",\r\n        \"nickname\": \"jondoe\"\r\n    },\r\n    \"labels\": {\r\n        \"href\": \"http://<domain>/tasks/1/labels\",\r\n        \"total\": 1,\r\n        \"limit\": 10,\r\n        \"offset\": 0,\r\n        \"rows\": [\r\n            {\r\n                \"id\": 1,\r\n                \"href\": \"//<domain>/labels/1\",\r\n                \"createdAt\": 571352400000,\r\n                \"name\": \"specapi\"\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\n## Restrict Fields\r\n\r\nОграничение списка возвращаемых параметров\r\n\r\n- **fields** [`string`[, ...]] имя параметра\r\n\r\n`GET http://<domain>/<resources>?fields=<field1,field2,...>`\r\n\r\n`GET http://<domain>/<resources>/<resourceId>?fields=<field1,field2,...>`\r\n\r\nНапример нам необходимы `id`, `название` задачи\r\n\r\n`GET http://<domain>/tasks/1?fields=id,name`\r\n\r\n```json\r\n{\r\n    \"id\": 1,\r\n    \"name\": \"Task name\"\r\n}\r\n```\r\n\r\n`GET http://<domain>/tasks?fields=id,name`\r\n\r\n```json\r\n{\r\n    \"total\": 3,\r\n    \"limit\": 25,\r\n    \"offset\": 0,\r\n    \"rows\": [\r\n        {\r\n            \"id\": 1,\r\n            \"name\": \"Task name 1\"\r\n        },\r\n        {\r\n            \"id\": 2,\r\n            \"name\": \"Task name 2\"\r\n        },\r\n        {\r\n            \"id\": 3,\r\n            \"name\": \"Task name 3\"\r\n        }\r\n    ]\r\n}\r\n\r\n```\r\n\r\n## Collection Sort, Limit and Offset\r\n\r\n### Paging, Limit, Offset\r\n\r\nЛимитирование коллекции ресурсов\r\n\r\n- **limit** `integer` размер возвращаемой коллекции\r\n- **offset** `integer` смещение\r\n\r\n`GET http://<domain>/<resources>?limit=<int>&offset=<int>`\r\n\r\nExample:\r\n\r\n`GET http://<domain>/tasks?limit=10`\r\n\r\n`GET http://<domain>/tasks?offset=10`\r\n\r\n`GET http://<domain>/tasks?limit=10&offset=10`\r\n\r\n\r\n### Sort\r\n\r\nСортировка коллекции по параметрам \r\n\r\n- **sort** [`string`[:desc|asc]]\r\n\r\n`GET http://<domain>/<resources>?sort=<field[:desc|:asc], ...>`\r\n\r\nExample:\r\n\r\n`GET http://<domain>/tasks?sort=createAt`\r\n\r\n`GET http://<domain>/tasks?sort=createAt:desc`\r\n\r\n`GET http://<domain>/tasks?sort=createAt:asc`\r\n\r\n`GET http://<domain>/tasks?sort=createAt,id`\r\n\r\n`GET http://<domain>/tasks?sort=createAt:desc,name`\r\n\r\n`GET http://<domain>/tasks?sort=createAt:asc,name:desc`\r\n\r\n\r\n## Errors\r\n\r\nОбязательный параметры\r\n\r\n- **statusCode** `integer` статус код\r\n- **errorCode** `string` код ошибки\r\n- **message** `string` сообщение об ошибке\r\n\r\n\r\n```json\r\n{\r\n    \"statusCode\": 400,\r\n    \"errorCode\": \"MESSAGE_CODE\",\r\n    \"message\": \"Some error message\"\r\n}\r\n```\r\n\r\n### 400 Bad request\r\n\r\nНе валидный запрос\r\n\r\n```json\r\n{\r\n    \"statusCode\": 400,\r\n    \"errorCode\": \"BAD_REQUEST\",\r\n    \"message\": \"Bad request\"\r\n}\r\n```\r\n\r\n```json\r\n{\r\n    \"statusCode\": 400,\r\n    \"errorCode\": \"BAD_REQUEST\",\r\n    \"message\": \"Bad request\",\r\n    \"errors\": [\r\n        {\r\n            \"property\": \"data.email\",\r\n            \"value\": \"example@@invalid.com\",\r\n            \"message\": \"does not conform to the 'email' format\"\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n\r\n### 401 Unauthorized\r\n\r\nНеобходима авторазация\r\n\r\n```json\r\n{\r\n    \"statusCode\": 401,\r\n    \"errorCode\": \"UNAUTHORIZED\",\r\n    \"message\": \"Unauthorized\"\r\n}\r\n```\r\n\r\n### 403 Permission Denied\r\n\r\nДоступ рапрещен\r\n\r\n```json\r\n{\r\n    \"statusCode\": 403,\r\n    \"errorCode\": \"PERMISSION_DENIED\",\r\n    \"message\": \"Permission Denied\"\r\n}\r\n```\r\n\r\n### 404 Not found\r\n\r\nРесурс не найден\r\n\r\n```json\r\n{\r\n    \"statusCode\": 404,\r\n    \"errorCode\": \"NOT_FOUND_RESOURCE\",\r\n    \"message\": \"Not found resource\"\r\n}\r\n```\r\n\r\nНе существующий путь\r\n\r\n```json\r\n{\r\n    \"statusCode\": 404,\r\n    \"errorCode\": \"NOT_FOUND_ROUTE\",\r\n    \"message\": \"Not found route\"\r\n}\r\n```\r\n\r\n### 409 Conflict\r\n\r\n- пользователь с таким именен существует\r\n- ...\r\n\r\n```json\r\n{\r\n    \"statusCode\": 409,\r\n    \"errorCode\": \"CONFLICT_ERROR\",\r\n    \"message\": \"Conflict error\"\r\n}\r\n```\r\n\r\n### 500 Internal error\r\n\r\nЧто то пошло не так\r\n\r\n```json\r\n{\r\n    \"statusCode\": 500,\r\n    \"errorCode\": \"INTERNAL_SERVER_ERROR\",\r\n    \"message\": \"Internal server error\"\r\n}\r\n```\r\n\r\n","google":"UA-61332584-1","note":"Don't delete this file! It's used internally to help with page regeneration."}